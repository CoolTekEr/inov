#!/bin/bash

# Usage help information
usage() {
    echo "Usage: $0 <string1> <string2> <string3>"
    echo "Example: $0 value1 value2 value3"
}

# Check if all required arguments are provided
if [ "$#" -ne 3 ]; then
    usage
    exit 1
fi

# Set variables
STRING1=$1
STRING2=$2
STRING3=$3
URL="http://x.y.z.com"
HEADER="appid: YourAppID"

# Send POST request with fields and headers
RESPONSE=$(curl -s -X POST -H "$HEADER" -d "{\"string1\":\"$STRING1\",\"string2\":\"$STRING2\",\"string3\":\"$STRING3\"}" "$URL")

# Check response status
RESPONSE_CODE=$(echo "$RESPONSE" | awk '{print $2}')
if [ "$RESPONSE_CODE" -eq 200 ]; then
    # Extract the 'target' string from response JSON
    TARGET=$(echo "$RESPONSE" | grep -o '"target":"[^"]*' | cut -d'"' -f4)
    echo "Target: $TARGET"
else
    # Print user-friendly error message
    echo "Error: Request failed with response code $RESPONSE_CODE"
fi
@Entity
@Table(name = "products")
public class Product {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(name = "name")
    private String name;

    // ... other properties and methods
}
@Repository
public interface ProductRepository extends JpaRepository<Product, Long> {

    List<Product> findByNameLike(String searchTerm);

}

@Service
public class ProductService {

    private final ProductRepository productRepository;

    public ProductService(ProductRepository productRepository) {
        this.productRepository = productRepository;
    }

    public List<Product> searchProducts(String searchTerm) {
        return productRepository.findByNameLike("%" + searchTerm + "%");
    }
}
#!/bin/bash

# Variables
file_path="/path/to/local/file.txt"
auth_token="YOUR_AUTH_TOKEN"
endpoint="https://example.com/api/endpoint"

# Check if the file exists
if [ ! -f "$file_path" ]; then
  echo "File not found: $file_path"
  exit 1
fi

# Check if the auth token is provided
if [ -z "$auth_token" ]; then
  echo "Auth token is missing"
  exit 1
fi

# Check if the endpoint is provided
if [ -z "$endpoint" ]; then
  echo "Endpoint is missing"
  exit 1
fi

# Send the cURL request
curl -X POST "$endpoint" \
  -H "Authorization: Bearer $auth_token" \
  -F "file=@$file_path"


------
YourCompositeKey compositeKey = new YourCompositeKey();
compositeKey.setColumnA("valueA");
compositeKey.setColumnB("valueB");
compositeKey.setColumnC("valueC");

YourEntity entity = new YourEntity();
entity.setCompositeKey(compositeKey);
// Set other properties of the entity

yourEntityRepository.save(entity);

=========

@Embeddable
public class YourCompositeKey implements Serializable {

    @Column(name = "column_a")
    private String columnA;

    @Column(name = "column_b")
    private String columnB;

    @Column(name = "column_c")
    private String columnC;

    // Constructors, getters, setters, equals, and hashCode methods
}
===========
@Entity
public class YourEntity {

    @EmbeddedId
    private YourCompositeKey compositeKey;

    // Other entity properties and methods

    public YourCompositeKey getCompositeKey() {
        return compositeKey;
    }

    public void setCompositeKey(YourCompositeKey compositeKey) {
        this.compositeKey = compositeKey;
    }
}
==================
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/tokens")
public class TokenController {
  
  @Autowired
  private TokenService tokenService;
  
  @PostMapping
  public ResponseEntity<String> generateToken(@RequestBody UserCredentials userCredentials) {
    // Validate the user credentials (you can implement your own logic)
    boolean isValid = validateUserCredentials(userCredentials.getUsername(), userCredentials.getPassword());
    
    if (isValid) {
      // Generate a token using the token service
      String token = tokenService.generateToken(userCredentials.getUsername());
      
      return ResponseEntity.ok(token);
    } else {
      return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
    }
  }
  
  private boolean validateUserCredentials(String username, String password) {
    // Implement your own logic to validate the user credentials
    // You can check against a database or any other authentication mechanism
    
    // For this example, we assume that the credentials are valid if the username and password are not empty
    return username != null && !username.isEmpty() && password != null && !password.isEmpty();
  }
}

============
import org.springframework.stereotype.Service;

import java.util.HashMap;
import java.util.Map;
import java.util.UUID;

@Service
public class TokenService {
  
  private Map<String, String> tokens = new HashMap<>();
  
  public String generateToken(String username) {
    // Generate a unique token using UUID
    String token = UUID.randomUUID().toString();
    
    // Store the token in a map with the username as the key
    tokens.put(username, token);
    
    return token;
  }
  
  public boolean isValidToken(String username, String token) {
    // Check if the provided token matches the stored token for the given username
    String storedToken = tokens.get(username);
    
    return storedToken != null && storedToken.equals(token);
  }
}
=====================
public class UserCredentials {
  
  private String username;
  private String password;
  
  // Add getters and setters
  
  public String getUsername() {
    return username;
  }
  
  public void setUsername(String username) {
    this.username = username;
  }
  
  public String getPassword() {
    return password;
  }
  
  public void setPassword(String password) {
    this.password = password;
  }
}
=====================
import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import org.springframework.stereotype.Service;

import java.util.Date;
import java.util.HashMap;
import java.util.Map;

@Service
public class TokenService {

  private static final String SECRET_KEY = "your_secret_key"; // Replace with your own secret key
  private static final long EXPIRATION_TIME = 5 * 60 * 1000; // 5 minutes in milliseconds

  private Map<String, String> tokens = new HashMap<>();

  public String generateToken(String username) {
    Date now = new Date();
    Date expiration = new Date(now.getTime() + EXPIRATION_TIME);

    String token = Jwts.builder()
        .setClaims(createClaims(username))
        .setIssuedAt(now)
        .setExpiration(expiration)
        .signWith(SignatureAlgorithm.HS256, SECRET_KEY)
        .compact();

    tokens.put(username, token);
    return token;
  }

  public boolean isValidToken(String username, String token) {
    if (!tokens.containsKey(username) || !tokens.get(username).equals(token)) {
      return false;
    }

    try {
      Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);
      return true;
    } catch (Exception e) {
      return false;
    }
  }

  private Claims createClaims(String username) {
    Claims claims = Jwts.claims();
    claims.put("username", username);
    // Add any additional claims if needed
    return claims;
  }
}
======================
import io.jsonwebtoken.Claims;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import org.springframework.stereotype.Service;

import java.util.Date;
import java.util.HashMap;
import java.util.Map;

@Service
public class TokenService {

  private static final String SECRET_KEY = "your_secret_key"; // Replace with your own secret key
  private static final long EXPIRATION_TIME = 5 * 60 * 1000; // 5 minutes in milliseconds

  private Map<String, String> tokens = new HashMap<>();

  public String generateToken(String username) {
    Date now = new Date();
    Date expiration = new Date(now.getTime() + EXPIRATION_TIME);

    String token = Jwts.builder()
        .setClaims(createClaims(username))
        .setIssuedAt(now)
        .setExpiration(expiration)
        .signWith(SignatureAlgorithm.HS256, SECRET_KEY)
        .compact();

    tokens.put(username, token);
    return token;
  }

  public boolean isValidToken(String username, String token) {
    if (!tokens.containsKey(username) || !tokens.get(username).equals(token)) {
      return false;
    }

    try {
      Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);
      return true;
    } catch (Exception e) {
      return false;
    }
  }

  public boolean validateToken(String token) {
    try {
      Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token);
      return true;
    } catch (Exception e) {
      return false;
    }
  }

  private Claims createClaims(String username) {
    Claims claims = Jwts.claims();
    claims.put("username", username);
    // Add any additional claims if needed
    return claims;
  }
}
=================

<!DOCTYPE html>
<html>
<head>
<title>Fileshare client</title>
</head>
<body>
<h1>Choose file to upload</h1>
<input type="text" id="username" />
<input type="password" id="password" />
<input type="text" id="destinationPath" />

<script>
function chooseFile() {
  var fileInput = document.getElementById("fileInput");
  fileInput.click();
}

function sendCredentialsAndGetResponse(username, password, destinationPath) {
  // Create a new XMLHttpRequest object.
  var xhr = new XMLHttpRequest();

  // Set the URL of the service endpoint.
  xhr.open("POST", "https://example.com/endpoint-one");

  // Set the request headers.
  xhr.setRequestHeader("Content-Type", "application/json");

  // Set the request body.
  var data = JSON.stringify({
    "username": username,
    "password": password,
  });

  // Send the request.
  xhr.send(data);

  // Handle the response.
  xhr.onload = function() {
    if (xhr.status === 200) {
      // The request was successful.
      var response = JSON.parse(xhr.responseText);
      console.log(response);
    } else {
      // The request failed.
      console.log("Error: " + xhr.status);
    }
  };
}

function callAnotherFunction(str, destinationPath) {
  // Create a new XMLHttpRequest object.
  var xhr = new XMLHttpRequest();

  // Set the URL of the service endpoint.
  xhr.open("POST", "https://example.com/endpoint-two");

  // Set the request headers.
  xhr.setRequestHeader("str", str);
  xhr.setRequestHeader("destinationPath", destinationPath);

  // Send the request.
  xhr.send();

  // Handle the response.
  xhr.onload = function() {
    if (xhr.status === 200) {
      // The request was successful.
      var response = JSON.parse(xhr.responseText);
      console.log(response);
    } else {
      // The request failed.
      console.log("Error: " + xhr.status);
    }
  };
}

function handleResponse(response) {
  if (response.type === "file") {
    // The response is a file. Save the file to the destination path.
    var file = new File(response.data, response.filename);
    file.save(destinationPath);
  } else if (response.type === "error") {
    // The response is an error message. Display the error message to the user.
    console.log(response.message);
  } else {
    // The response is a text message. Display the text message to the user.
    console.log(response.message);
  }
}


function callThirdApi(str2) {
  // Create a new XMLHttpRequest object.
  var xhr = new XMLHttpRequest();

  // Set the URL of the service endpoint.
  xhr.open("POST", "https://example.com/endpoint-three");

  // Set the request headers.
  xhr.setRequestHeader("str2", str2);

  // Send the request.
  xhr.send();

  // Handle the response.
  xhr.onload = function() {
    if (xhr.status === 200) {
      // The request was successful.
      var response = JSON.parse(xhr.responseText);
      handleResponse(response);
    } else {
      // The request failed.
      console.log("Error: " + xhr.status);
    }
  };
}

function executeCurl() {

var curlCommand = "curl -u " + document.getElementById("username").value + ":" + document.getElementById("password").value + " https://localhost:8080/";

  var file = document.getElementById("fileInput").files[0];
  var path = file.path;
  var curlCommand = "curl -F file=@" + path + " http://localhost:8080/";
  console.log(curlCommand);
  var xhr = new XMLHttpRequest();
  xhr.open("GET", curlCommand);
  xhr.send();
}
</script>
<input type="file" id="fileInput" />
<button onclick="chooseFile()">Choose File</button>
<button onclick="executeCurl()">Execute Curl</button>
</body>
</html>
===============

<!DOCTYPE html>
<html>
<head>
<title>Upload and Download</title>
<style>
.container {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin-top: 50px;
}

label {
  margin-bottom: 10px;
  margin-top: 50px
  margin-left: 50px
  margin-right: 50px
}

input {
  width: 25%;
}
</style>
</head>
<body>
<h1>Upload and Download</h1>
                           <div class="container">
  <div>
    <label for="username">Username:</label>
    <input type="text" id="username" />
  </div>
  <div>
    <label for="password">Password:</label>
    <input type="password" id="password" />
  </div>
  <div>
    <label for="destinationPath">Destination Path:</label>
    <input type="text" id="destinationPath" />
  </div>
</div>
<button onclick="upload()" msrgin>Upload</button>
<button onclick="download()">Download</button>
<script>
function upload() {
  // Get the username, password, and destination path.
  var username = document.getElementById("username").value;
  var password = document.getElementById("password").value;
  var destinationPath = document.getElementById("destinationPath").value;

  // Send the credentials to the service endpoint.
  sendCredentialsAndGetResponse(username, password, destinationPath);
}

function download() {
  // Get the string from the third API call.
  var str2 = response.str2;

  // Call the third API call.
  callThirdApi(str2);
}

function handleResponse(response) {
  if (response.type === "file") {
    // The response is a file. Save the file to the destination path.
    var file = new File(response.data, response.filename);
    file.save(destinationPath);
  } else if (response.type === "error") {
    // The response is an error message. Display the error message to the user.
    alert(response.message);
  } else {
    // The response is a text message. Display the text message to the user.
    alert(response.message);
  }
}
</script>
</body>
</html>
